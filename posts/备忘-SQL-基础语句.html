<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="Zane,pi@0php.net"><title>备忘 SQL 基础语句 · 一只贱熊猫的博客</title><meta name="description" content="0x00 查询简单查询123456789-- 查询 users 表包含所有列的所有行SELECT * FROM `users`;-- 指定列-- 查询 users 表包含 id 和 name 两列的所有行SELECT `id`, `name` FROM `users`;-- 查询 users 表 n"><meta name="keywords" content="PHP,Web,Swoole,HTML,CSS"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/favicon.png" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo@2x.png" style="width:127px;"><h3 title=""><a href="/">一只贱熊猫的博客</a></h3><div class="description"><p>夫夷以近，则游者众；险以远，则至者少。</p></div></div></div><ul class="social-links"><li><a href="http://github.com/zanemmm"><i class="fa fa-github"></i></a></li></ul><div class="footer"><a target="_blank" href="/"><span>Theme by </span></a><a href="https://www.caicai.me"> CaiCai </a><span>&</span><a href="https://github.com/Ben02/hexo-theme-Anatole"> Ben</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/about">关于</a></li><li><a href="/archives">归档</a></li><li><a href="/links">友链</a></li></div><div class="information"><div class="back_btn"><li><a class="fa fa-chevron-left" onclick="window.history.go(-1)"> </a></li></div><div class="avatar"><img src="/images/logo.png"></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>备忘 SQL 基础语句</a></h3></div><div class="post-content"><h2 id="0x00-查询"><a href="#0x00-查询" class="headerlink" title="0x00 查询"></a>0x00 查询</h2><h3 id="简单查询"><a href="#简单查询" class="headerlink" title="简单查询"></a>简单查询</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询 users 表包含所有列的所有行</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="string">`users`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 指定列</span></span><br><span class="line"><span class="comment">-- 查询 users 表包含 id 和 name 两列的所有行</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="string">`id`</span>, <span class="string">`name`</span> <span class="keyword">FROM</span> <span class="string">`users`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询 users 表 name 和 email 都不重复的行</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> <span class="string">`name`</span>, <span class="string">`email`</span> <span class="keyword">FROM</span> <span class="string">`users`</span>;</span><br></pre></td></tr></table></figure>
<h3 id="限制查询"><a href="#限制查询" class="headerlink" title="限制查询"></a>限制查询</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询 users 表中的前 5 条数据</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="string">`users`</span> <span class="keyword">LIMIT</span> <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询 users 表中从第五行起的 5 条数据（主要用于分页）</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="string">`users`</span> <span class="keyword">LIMIT</span> <span class="number">5</span> <span class="keyword">OFFSET</span> <span class="number">5</span>;</span><br></pre></td></tr></table></figure>
<h3 id="排序查询"><a href="#排序查询" class="headerlink" title="排序查询"></a>排序查询</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询 users 表中以 id 列升序排列的所有行</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="string">`users`</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="string">`id`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询 users 表中以 id 列降序排列的所有行</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="string">`users`</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="string">`id`</span> <span class="keyword">DESC</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 多列排序查询</span></span><br><span class="line"><span class="comment">-- 查询 users 表中以 id 列降序排列后以 name 列为升序排列的所有行</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="string">`users`</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> <span class="string">`id`</span> <span class="keyword">DESC</span>, <span class="string">`name`</span>;</span><br></pre></td></tr></table></figure>
<h3 id="格式查询"><a href="#格式查询" class="headerlink" title="格式查询"></a>格式查询</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询 users 表中的 name 列并将其用括号括起而且设置列别名为 newName</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">Concat</span>(<span class="string">'('</span>, <span class="string">`name`</span>, <span class="string">')'</span>) <span class="keyword">AS</span> <span class="string">`newName`</span> <span class="keyword">FROM</span> <span class="string">`users`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询 users 表中的 name 列并清除其左右的空格而且设置列别名为 newName</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">TRIM</span>(<span class="string">`name`</span>) <span class="keyword">AS</span> <span class="string">`newName`</span> <span class="keyword">FROM</span> <span class="string">`users`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询 users 表中的 name 列并将其改为大写而且设置列别名为 newName</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">UPPER</span>(<span class="string">`name`</span>) <span class="keyword">AS</span> <span class="string">`newName`</span> <span class="keyword">FROM</span> <span class="string">`users`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询 users 表中的 name 列的内容长度而且设置列别名为 nameLen</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">LENGTH</span>(<span class="string">`name`</span>) <span class="keyword">AS</span> <span class="string">`newName`</span> <span class="keyword">FROM</span> <span class="string">`users`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询 products 表中 price 与 number 的乘积并设为别名 total</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="string">`price`</span> * <span class="string">`number`</span> <span class="keyword">AS</span> <span class="string">`total`</span> <span class="keyword">FROM</span> <span class="string">`products`</span>;</span><br></pre></td></tr></table></figure>
<h3 id="条件查询"><a href="#条件查询" class="headerlink" title="条件查询"></a>条件查询</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询 users 表中 id 为 1 的行</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="string">`users`</span> <span class="keyword">WHERE</span> <span class="string">`id`</span> = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询 users 表中 id 为 1 到 10 之间的行</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="string">`users`</span> <span class="keyword">WHERE</span> <span class="string">`id`</span> <span class="keyword">BETWEEN</span> <span class="number">1</span> <span class="keyword">AND</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询 users 表中 name 为 NULL 值的行</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="string">`users`</span> <span class="keyword">WHERE</span> <span class="string">`name`</span> <span class="keyword">IS</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询 users 表中 name 为 zane、panda、pi 之一的所有行</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="string">`users`</span> <span class="keyword">WHERE</span> <span class="string">`name`</span> <span class="keyword">IN</span> (<span class="string">'zane'</span>, <span class="string">'panda'</span>, <span class="string">'pi'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询 users 表中 name 不为 zane、panda、pi 的所有行</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="string">`users`</span> <span class="keyword">WHERE</span> <span class="keyword">NOT</span> <span class="string">`name`</span> <span class="keyword">IN</span> (<span class="string">'zane'</span>, <span class="string">'panda'</span>, <span class="string">'pi'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询 users 表中 name 包含 zane 字符串的行</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="string">`users`</span> <span class="keyword">WHERE</span> <span class="string">`name`</span> <span class="keyword">LIKE</span> <span class="string">'%zane%'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询 users 表中 email 以 5 开头，@qq.com 结尾的行</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="string">`users`</span> <span class="keyword">WHERE</span> <span class="string">`email`</span> <span class="keyword">LIKE</span> <span class="string">'5%@qq.com'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 多条件查询</span></span><br><span class="line"><span class="comment">-- 查询 users 表中 height 在 170 到 180 之间或 weight 在 60 到 75 之间的所有行</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="string">`users`</span> <span class="keyword">WHERE</span> (<span class="string">`height`</span> <span class="keyword">BETWEEN</span> <span class="number">170</span> <span class="keyword">AND</span> <span class="number">180</span>) <span class="keyword">OR</span> (<span class="string">`weight`</span> <span class="keyword">BETWEEN</span> <span class="number">60</span> <span class="keyword">AND</span> <span class="number">75</span>);</span><br></pre></td></tr></table></figure>
<h3 id="汇总查询"><a href="#汇总查询" class="headerlink" title="汇总查询"></a>汇总查询</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询 products 表中 price 的平均值并设为别名 avgPrice</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">AVG</span>(<span class="string">`price`</span>) <span class="keyword">AS</span> <span class="string">`avgPrice`</span> <span class="keyword">FROM</span> <span class="string">`products`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询 users 表中的总行数并设为别名 userNum</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(*) <span class="keyword">AS</span> <span class="string">`userNum`</span> <span class="keyword">FROM</span> <span class="string">`users`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询 users 表中 email 列非空值的总行数并设为别名 emailNum</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(email) <span class="keyword">AS</span> <span class="string">`emailNum`</span> <span class="keyword">FROM</span> <span class="string">`users`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询 users 表中 id 列的最大值并设为别名 maxId</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">MAX</span>(<span class="keyword">id</span>) <span class="keyword">AS</span> <span class="string">`maxId`</span> <span class="keyword">FROM</span> <span class="string">`users`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询 users 表中 id 列的最小值并设为别名 minId</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">MIN</span>(<span class="keyword">id</span>) <span class="keyword">AS</span> <span class="string">`minId`</span> <span class="keyword">FROM</span> <span class="string">`users`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询 users 表中 name 列非空不重复值的总行数并设为别名 uniqueUserNameNum</span></span><br><span class="line"><span class="comment">-- 注意在 COUNT(*) 中使用 DISTINCT 无效</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">COUNT</span>(<span class="keyword">DISTINCT</span> <span class="string">`name`</span>) <span class="keyword">AS</span> <span class="string">`uniqueUserNameNum`</span> <span class="keyword">FROM</span> <span class="string">`users`</span>;</span><br></pre></td></tr></table></figure>
<h3 id="分组查询"><a href="#分组查询" class="headerlink" title="分组查询"></a>分组查询</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询 products 表中以 provider 为分组的行数</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="string">`provider`</span>, <span class="keyword">COUNT</span>(*) <span class="keyword">AS</span> <span class="string">`providerProductNum`</span> <span class="keyword">FROM</span> <span class="string">`products`</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="string">`provider`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 查询 products 表中以 provider 为分组并过滤掉 COUNT(*) &lt;= 2 的分组</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="string">`provider`</span>, <span class="keyword">COUNT</span>(*) <span class="keyword">AS</span> <span class="string">`num`</span> <span class="keyword">FROM</span> <span class="string">`products`</span> <span class="keyword">GROUP</span> <span class="keyword">BY</span> <span class="string">`provider`</span> <span class="keyword">HAVING</span> <span class="keyword">COUNT</span>(*) &gt; <span class="number">2</span></span><br></pre></td></tr></table></figure>
<h3 id="子查询"><a href="#子查询" class="headerlink" title="子查询"></a>子查询</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 查询 products 表中 purchaser 列为 users 表中 id 为 1的行</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="string">`products`</span> <span class="keyword">WHERE</span> <span class="string">`purchaser`</span> <span class="keyword">IN</span> (<span class="keyword">SELECT</span> <span class="keyword">id</span> <span class="keyword">FROM</span> <span class="string">`users`</span>);</span><br></pre></td></tr></table></figure>
<h3 id="联结查询"><a href="#联结查询" class="headerlink" title="联结查询"></a>联结查询</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 内联结查询 orders users 表中的 name start 字段（简单格式）</span></span><br><span class="line"><span class="keyword">SELECT</span> users.name, orders.start <span class="keyword">FROM</span> <span class="string">`users`</span>, <span class="string">`orders`</span> <span class="keyword">WHERE</span> users.id = orders.user_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 内联结查询 orders users 表中的 name start 字段（标准格式）</span></span><br><span class="line"><span class="keyword">SELECT</span> users.name, orders.start <span class="keyword">FROM</span> <span class="string">`users`</span> <span class="keyword">INNER</span> <span class="keyword">JOIN</span> <span class="string">`orders`</span> <span class="keyword">ON</span> users.id = orders.user_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 内联结查询多个表</span></span><br><span class="line"><span class="keyword">SELECT</span> users.name, orders.start, activities.title <span class="keyword">FROM</span> <span class="string">`users`</span>, <span class="string">`orders`</span>, <span class="string">`activities`</span> <span class="keyword">WHERE</span> users.id = orders.user_id <span class="keyword">AND</span> users.id = activities.leader_id;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 自联结查询 products 表中 name 为 computer 的 provider 的所有行</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="string">`products`</span> <span class="keyword">WHERE</span> <span class="string">`provider`</span> = (<span class="keyword">SELECT</span> <span class="string">`provider`</span> <span class="keyword">FROM</span> <span class="string">`products`</span> <span class="keyword">WHERE</span> <span class="string">`name`</span> = <span class="string">"computer"</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 外联结查询 customers 表对应 orders 表的行</span></span><br><span class="line"><span class="keyword">SELECT</span> customers.id orders.num <span class="keyword">FROM</span> customers <span class="keyword">LEFT</span> <span class="keyword">OUTER</span> <span class="keyword">JOIN</span> orders <span class="keyword">ON</span> customers.id = orders.custom_id；</span><br></pre></td></tr></table></figure>
<p>###联合查询 </p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 联合查询 products 表和 users 表的 name 列，UNION 默认会清除内容重复的行</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="string">`name`</span> <span class="keyword">FROM</span> <span class="string">`products`</span> <span class="keyword">UNION</span> <span class="keyword">SELECT</span> <span class="string">`name`</span> <span class="keyword">FROM</span> <span class="string">`users`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 联合查询 products 表和 users 表的 name 列，不清除内容重复的行</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="string">`name`</span> <span class="keyword">FROM</span> <span class="string">`products`</span> <span class="keyword">UNION</span> ALL <span class="keyword">SELECT</span> <span class="string">`name`</span> <span class="keyword">FROM</span> <span class="string">`users`</span>;</span><br></pre></td></tr></table></figure>
<h2 id="0x01-插入"><a href="#0x01-插入" class="headerlink" title="0x01 插入"></a>0x01 插入</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 插入完整一行至 users 表</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`users`</span> <span class="keyword">VALUES</span> (<span class="string">'000001'</span>, <span class="string">'email'</span>, <span class="string">'username'</span>, <span class="string">'password'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 指定列完整插入一行至 users 表</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`users`</span>(<span class="string">`id`</span>, <span class="string">`email`</span>, <span class="string">`name`</span>, <span class="string">`password`</span>) <span class="keyword">VALUES</span> (<span class="string">'000001'</span>, <span class="string">'qq@qq.com'</span>, <span class="string">'qq'</span>, <span class="string">'123'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 指点部分列插入一行至 users 表</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`users`</span>(<span class="string">`email`</span>, <span class="string">`name`</span>, <span class="string">`password`</span>) <span class="keyword">VALUES</span> (<span class="string">'qq@qq.com'</span>, <span class="string">'qq'</span>, <span class="string">'123'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 将 oldUsers 表中的数据插入到 users 表</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> <span class="string">`users`</span>(<span class="string">`email`</span>, <span class="string">`name`</span>, <span class="string">`password`</span>) <span class="keyword">SELECT</span> <span class="string">`email`</span>, <span class="string">`name`</span>, <span class="string">`password`</span> <span class="keyword">FROM</span> <span class="string">`oldUsers`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 将 users 表的数据复制到 usersCopy 表</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">INTO</span> <span class="string">`usersCopy`</span> <span class="keyword">FROM</span> <span class="string">`users`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建新表 usersCopy 并将 users 复制过去</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`usersCopy`</span> <span class="keyword">AS</span> <span class="keyword">SELECT</span> * <span class="keyword">FROM</span> <span class="string">`users`</span>;</span><br></pre></td></tr></table></figure>
<h2 id="0x02-更新"><a href="#0x02-更新" class="headerlink" title="0x02 更新"></a>0x02 更新</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 更新 users 表中 id 为 1 的行的 name 字段为 zane</span></span><br><span class="line"><span class="keyword">UPDATE</span> <span class="string">`users`</span> <span class="keyword">SET</span> <span class="string">`name`</span> = <span class="string">'pi'</span> <span class="keyword">WHERE</span> <span class="keyword">id</span> = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 更新多个字段</span></span><br><span class="line"><span class="keyword">UPDATE</span> <span class="string">`users`</span> <span class="keyword">SET</span> <span class="string">`name`</span> = <span class="string">'zane'</span>, <span class="string">`email`</span> = <span class="string">'pi@0php.net'</span> <span class="keyword">WHERE</span> <span class="keyword">id</span> = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 更新 users 表中所有行 price + 1 </span></span><br><span class="line"><span class="keyword">UPDATE</span> <span class="string">`products`</span> <span class="keyword">SET</span> <span class="string">`price`</span> = <span class="string">`price`</span> + <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 更新 users 表中 provider 为 APPLE 的行的 price + 1 </span></span><br><span class="line"><span class="keyword">UPDATE</span> <span class="string">`products`</span> <span class="keyword">SET</span> <span class="string">`price`</span> = <span class="string">`price`</span> + <span class="number">1</span> <span class="keyword">WHERE</span> <span class="string">`provider`</span> = <span class="string">'APPLE'</span>;</span><br></pre></td></tr></table></figure>
<h2 id="0x03-删除"><a href="#0x03-删除" class="headerlink" title="0x03 删除"></a>0x03 删除</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 删除 users 表中的所有数据</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> <span class="string">`users`</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 删除 users 表中 id 为 5 的行</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> <span class="string">`users`</span> <span class="keyword">WHERE</span> <span class="string">`id`</span> = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 快速删除 users 表中所有行</span></span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> <span class="string">`users`</span></span><br></pre></td></tr></table></figure>
<h2 id="0x04-创建表"><a href="#0x04-创建表" class="headerlink" title="0x04 创建表"></a>0x04 创建表</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="string">`orders`</span> (</span><br><span class="line">	<span class="keyword">id</span>          <span class="built_in">INTEGER</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> AUTO_INCREMENT,</span><br><span class="line">	product     <span class="built_in">VARCHAR</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>,</span><br><span class="line">  	create_time <span class="keyword">TIMESTAMP</span> <span class="keyword">NOT</span> <span class="literal">NULL</span> <span class="keyword">DEFAULT</span> <span class="keyword">CURRENT_TIMESTAMP</span>(),</span><br><span class="line">    PRIMARY <span class="keyword">KEY</span>(<span class="keyword">id</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
<h2 id="0x05-更新表"><a href="#0x05-更新表" class="headerlink" title="0x05 更新表"></a>0x05 更新表</h2><h3 id="增加列"><a href="#增加列" class="headerlink" title="增加列"></a>增加列</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="string">`orders`</span> <span class="keyword">ADD</span> user_id <span class="built_in">INT</span> <span class="keyword">UNSIGNED</span>;</span><br></pre></td></tr></table></figure>
<h3 id="修改列"><a href="#修改列" class="headerlink" title="修改列"></a>修改列</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="string">`orders`</span> <span class="keyword">CHANGE</span> <span class="string">`product`</span> <span class="string">`newProduct`</span> <span class="built_in">VARCHAR</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="literal">NULL</span>;</span><br></pre></td></tr></table></figure>
<h3 id="删除列"><a href="#删除列" class="headerlink" title="删除列"></a>删除列</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> <span class="string">`orders`</span> <span class="keyword">DROP</span> <span class="keyword">COLUMN</span> <span class="string">`user_id`</span>;</span><br></pre></td></tr></table></figure>
<h2 id="0x06-删除表"><a href="#0x06-删除表" class="headerlink" title="0x06 删除表"></a>0x06 删除表</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="string">`orders`</span>;</span><br></pre></td></tr></table></figure>
<h2 id="0x07-重命名表"><a href="#0x07-重命名表" class="headerlink" title="0x07 重命名表"></a>0x07 重命名表</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">RENAME</span> <span class="keyword">TABLE</span> <span class="string">`users`</span> <span class="keyword">TO</span> <span class="string">`newUsers`</span>;</span><br></pre></td></tr></table></figure></div><br><p>转载请注明出处:<a href="https://www.0php.net/posts/备忘-SQL-基础语句.html" target="_blank" title="https://www.0php.net/posts/备忘-SQL-基础语句.html">https://www.0php.net/posts/备忘-SQL-基础语句.html</a></p><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="知识共享许可协议" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br /><p>本作品采用<a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a>进行许可。</p><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2018-08-16</span><i class="fa fa-comment-o"></i><a href="/posts/备忘-SQL-基础语句.html#comments">评论</a><i class="fa fa-tag"></i><a class="tag" href="/tags/MySQL/" title="MySQL">MySQL </a><a class="tag" href="/tags/数据库/" title="数据库">数据库 </a><a class="tag" href="/tags/备忘/" title="备忘">备忘 </a><a class="tag" href="/tags/SQL/" title="SQL">SQL </a></div></div></div></div><div class="share"><div class="evernote"><a class="fa fa-bookmark" href="javascript:(function(){EN_CLIP_HOST='http://www.evernote.com';try{var%20x=document.createElement('SCRIPT');x.type='text/javascript';x.src=EN_CLIP_HOST+'/public/bookmarkClipper.js?'+(new%20Date().getTime()/100000);document.getElementsByTagName('head')[0].appendChild(x);}catch(e){location.href=EN_CLIP_HOST+'/clip.action?url='+encodeURIComponent(location.href)+'&amp;title='+encodeURIComponent(document.title);}})();" ref="nofollow" target="_blank"></a></div><div class="weibo"><a class="fa fa-weibo" href="javascript:void((function(s,d,e){try{}catch(e){}var f='http://service.weibo.com/share/share.php?',u=d.location.href,p=['url=',e(u),'&amp;title=',e(d.title),'&amp;appkey=2924220432'].join('');function a(){if(!window.open([f,p].join(''),'mb',['toolbar=0,status=0,resizable=1,width=620,height=450,left=',(s.width-620)/2,',top=',(s.height-450)/2].join('')))u.href=[f,p].join('');};if(/Firefox/.test(navigator.userAgent)){setTimeout(a,0)}else{a()}})(screen,document,encodeURIComponent));"></a></div><div class="twitter"><a class="fa fa-twitter" href="http://twitter.com/home?status=,https://www.0php.net/posts/备忘-SQL-基础语句.html,一只贱熊猫的博客,备忘 SQL 基础语句,;"></a></div></div><div class="pagination"><ul class="clearfix"><li class="pre pagbuttons"><a class="btn" role="navigation" href="/posts/备忘-Nginx-基本配置.html" title="备忘 Nginx 基本配置">上一篇</a></li><li class="next pagbuttons"><a class="btn" role="navigation" href="/posts/备忘-PHP-PDO-基础知识.html" title="备忘 PHP PDO 基础知识">下一篇</a></li></ul></div><a id="comments"></a><div id="disqus_thread"></div><script>var disqus_shortname = 'zanemmm';
var disqus_identifier = 'posts/备忘-SQL-基础语句.html';
var disqus_title = '备忘 SQL 基础语句';
var disqus_url = 'https://www.0php.net/posts/备忘-SQL-基础语句.html';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//#{theme.disqus}.disqus.com/count.js" async></script></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>